{"version":3,"sources":["components/NameFilter.js","components/PersonForm.js","components/Persons.js","services/persons.js","components/Notification.js","App.js","index.js"],"names":["Filter","filter","handleFilterChange","value","onChange","PersonForm","newName","newNumber","addPerson","handleNameChange","handleNumberChange","onSubmit","type","Persons","persons","nameFilter","handleDeleteClick","person","name","toLowerCase","includes","map","key","number","onClick","baseUrl","axios","get","then","response","data","newObject","post","id","put","delete","Notification","message","error","style","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","App","useState","setPersons","setNameFilter","setNewName","setNewNumber","text","timeout","setMessage","useEffect","personService","NameFilter","event","target","preventDefault","nameObject","existingPerson","find","window","confirm","returnedPerson","catch","clearTimeout","setTimeout","p","concat","alert","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.ad89b0a6.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Filter = ({ filter, handleFilterChange }) => {\r\n\r\n  return (\r\n    <div>\r\n    filter shown with <input\r\n      value={filter}\r\n      onChange={handleFilterChange} />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Filter","import React from 'react'\r\n\r\nconst PersonForm = ({ newName, newNumber, addPerson, \r\n  handleNameChange, handleNumberChange }) => {\r\n\r\n  return (\r\n    <form onSubmit={addPerson}>\r\n      <div>\r\n        name: <input\r\n          value={newName}\r\n          onChange={handleNameChange}\r\n        />\r\n      </div>\r\n      <div>\r\n        number: <input\r\n          value={newNumber}\r\n          onChange={handleNumberChange}\r\n        />\r\n      </div>\r\n      <div>\r\n        <button type=\"submit\">add</button>\r\n      </div>\r\n    </form>\r\n  );\r\n}\r\n\r\nexport default PersonForm","import React from 'react'\r\n\r\nconst Persons = ({ persons, nameFilter, handleDeleteClick }) => {\r\n  return (\r\n    <div>\r\n      {persons.filter(person =>\r\n        person.name.toLowerCase().includes(nameFilter.toLowerCase())\r\n      ).map(person => {\r\n        return (\r\n          <div key={person.name}>\r\n            {person.name} {person.number}\r\n            <button \r\n              onClick={() => handleDeleteClick(person)}>\r\n                delete\r\n            </button>\r\n          </div>\r\n        )\r\n      }\r\n      )}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Persons","import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst create = newObject => {\r\n  const request = axios.post(baseUrl, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst deletePerson = (id) => {\r\n  const request = axios.delete(`${baseUrl}/${id}`)\r\n  return request\r\n}\r\n\r\nexport default { getAll, create, update, deletePerson }","import React from 'react'\r\n\r\nconst Notification = ({ message, error }) => {\r\n  const successStyle = {\r\n    color: 'green',\r\n    background: 'lightgrey',\r\n    fontSize: 20,\r\n    borderStyle: 'solid',\r\n    borderRadius: 5,\r\n    padding: 10,\r\n    marginBottom: 10,\r\n  }\r\n\r\n  const errorStyle = {\r\n    color: 'red',\r\n    background: 'lightgrey',\r\n    fontSize: 20,\r\n    borderStyle: 'solid',\r\n    borderRadius: 5,\r\n    padding: 10,\r\n    marginBottom: 10,\r\n  }\r\n\r\n  if (message === null) {\r\n    return null\r\n  }\r\n\r\n  if (error) {\r\n    return (\r\n      <div style={errorStyle}>\r\n        {message}\r\n      </div>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <div style={successStyle}>\r\n      {message}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Notification\r\n","import React, { useState, useEffect } from 'react'\r\nimport NameFilter from './components/NameFilter'\r\nimport PersonForm from './components/PersonForm'\r\nimport Persons from './components/Persons'\r\nimport personService from './services/persons'\r\nimport Notification from './components/Notification'\r\n\r\nconst App = () => {\r\n  const [persons, setPersons] = useState([]);\r\n  const [nameFilter, setNameFilter] = useState('');\r\n  const [newName, setNewName] = useState('');\r\n  const [newNumber, setNewNumber] = useState('');\r\n  const [message, setMessage] = useState({\r\n    text: null,\r\n    error: false,\r\n    timeout: null,\r\n  });\r\n\r\n  useEffect(() => {\r\n    personService\r\n      .getAll()\r\n      .then(persons => {\r\n        setPersons(persons)\r\n      })\r\n  }, [])\r\n  \r\n  /** \r\n   * Adds new person to state\r\n   * @param {submit event} event \r\n   */\r\n  const addPerson = (event) => {\r\n    event.preventDefault();\r\n    \r\n    if (newName === '') {\r\n      window.alert(`Please type a name to add`);\r\n      return;\r\n    }\r\n\r\n    else if (newNumber === '') {\r\n      window.alert(`Please type a number to add`);\r\n      return;\r\n    }\r\n\r\n    const nameObject = {\r\n      name: newName,\r\n      number: newNumber,\r\n    }\r\n\r\n    const existingPerson = persons.find(person => person.name === newName)\r\n\r\n    if (existingPerson) {\r\n      if (window.confirm(`${existingPerson.name} is already added to ` +\r\n        `the phonebook, replace the old number with a new one?`)) {\r\n        personService\r\n          .update(existingPerson.id, nameObject)\r\n          .then(returnedPerson => {\r\n            setPersons(persons.map(person => \r\n              person.id !== returnedPerson.id ? person : returnedPerson\r\n            ))\r\n            setNewName('');\r\n            setNewNumber('');\r\n          })\r\n          .catch(error => {\r\n            clearTimeout(message.timeout);\r\n            setMessage({\r\n              text: `Information of ${existingPerson.name} has already been removed from server`,\r\n              error: true,\r\n              timeout: setTimeout(() => {\r\n                setMessage({\r\n                  text: null,\r\n                  error: false\r\n                })          \r\n              }, 5000)\r\n            })\r\n            setPersons(persons.filter(p => p.id !== existingPerson.id))\r\n          })\r\n        \r\n        clearTimeout(message.timeout);\r\n        setMessage({\r\n          text: `Changed ${nameObject.name}`,\r\n          error: false,\r\n          timeout: setTimeout(() => {\r\n            setMessage({\r\n              text: null,\r\n              error: false\r\n            })          \r\n          }, 5000)\r\n        })\r\n      }\r\n    }\r\n\r\n    else {\r\n      personService\r\n        .create(nameObject)\r\n        .then(person => {\r\n          setPersons(persons.concat(person));\r\n          setNewName('');\r\n          setNewNumber('');\r\n        })\r\n      \r\n      clearTimeout(message.timeout);\r\n      setMessage({\r\n        text: `Added ${nameObject.name}`,\r\n        error: false,\r\n        timeout: setTimeout(() => {\r\n          setMessage({\r\n            text: null,\r\n            error: false\r\n          })          \r\n        }, 5000)\r\n      })\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Sets new name state on input change\r\n   * @param {name input onChange event} event \r\n   */\r\n  const handleNameChange = (event) => {\r\n    setNewName(event.target.value);\r\n  }\r\n\r\n  /**\r\n   * Sets new number state on input change\r\n   * @param {number input onChange event} event \r\n   */\r\n  const handleNumberChange = (event) => {\r\n    setNewNumber(event.target.value);\r\n  }\r\n\r\n  /** \r\n   * Sets filter state on input change\r\n   * @param {filter input onChange event} event \r\n  */\r\n const handleFilterChange = (event) => {\r\n  setNameFilter(event.target.value);\r\n}\r\n\r\n/**\r\n * Handles delete person click\r\n * @param {person} person \r\n */\r\nconst handleDeleteClick = (person) => {\r\n  if (window.confirm(`Delete ${person.name}?`)) {\r\n    personService\r\n    .deletePerson(person.id)\r\n    .catch(error => {\r\n      clearTimeout(message.timeout);\r\n      setMessage({\r\n        text: `Information of ${person.name} has already been removed from server`,\r\n        error: true,\r\n        timeout: setTimeout(() => {\r\n          setMessage({\r\n            text: null,\r\n            error: false\r\n          })          \r\n        }, 5000)\r\n      })\r\n    })\r\n    setPersons(persons.filter(p => p.id !== person.id))\r\n  }\r\n}\r\n\r\n  return (\r\n    <div>\r\n      <h2>Phonebook</h2>\r\n      <Notification message={message.text} error={message.error}/>\r\n      <NameFilter \r\n        filter={nameFilter}\r\n        handleFilterChange={handleFilterChange} \r\n      />\r\n\r\n      <h2>Add a new</h2>\r\n\r\n      <PersonForm \r\n        newName={newName}\r\n        newNumber={newNumber}\r\n        addPerson={addPerson}\r\n        handleNameChange={handleNameChange}\r\n        handleNumberChange={handleNumberChange}\r\n      />\r\n\r\n      <h2>Numbers</h2>\r\n      \r\n      <Persons \r\n        persons={persons}\r\n        nameFilter={nameFilter}\r\n        handleDeleteClick={handleDeleteClick} \r\n      />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App'\nimport './index.css'\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n)"],"sourceRoot":""}